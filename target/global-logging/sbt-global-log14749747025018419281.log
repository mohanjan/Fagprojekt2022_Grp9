[0m[[0m[0mdebug[0m] [0m[0m> Exec(;Test/compile; collectAnalyses, None, Some(CommandSource(network-1)))[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Processing"})[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Done"})[0m
[0m[[0m[0mdebug[0m] [0m[0m> Exec(Test/compile, None, Some(CommandSource(network-1)))[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Processing"})[0m
[0m[[0m[0mdebug[0m] [0m[0mEvaluating tasks: Test / compile[0m
[0m[[0m[0mdebug[0m] [0m[0mRunning task... Cancel: Signal, check cycles: false, forcegc: true[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/taskStart, {"taskId":{"id":"12","parents":[]},"eventTime":1646681982148,"message":"Compiling root","dataKind":"compile-task","data":{"target":{"uri":"file:/C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/#root/Compile"}}})[0m
[0m[[0m[0minfo[0m] [0m[0mcompiling 1 Scala source to C:\Users\Gamerpcen\OneDrive - Danmarks Tekniske Universitet\Dokumenter\GitHub\Fagprojekt2022_Grp9\target\scala-2.13\classes ...[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":3,"message":"compiling 1 Scala source to C:\\Users\\Gamerpcen\\OneDrive - Danmarks Tekniske Universitet\\Dokumenter\\GitHub\\Fagprojekt2022_Grp9\\target\\scala-2.13\\classes ..."})[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/publishDiagnostics, {"textDocument":{"uri":"file:///C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/src/main/scala/XADC.scala"},"buildTarget":{"uri":"file:/C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/#root/Compile"},"diagnostics":[],"reset":true})[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/taskFinish, {"taskId":{"id":"12","parents":[]},"eventTime":1646681983992,"message":"Compiled root","status":1,"dataKind":"compile-report","data":{"target":{"uri":"file:/C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/#root/Compile"},"errors":0,"warnings":0,"time":1844}})[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/taskStart, {"taskId":{"id":"13","parents":[]},"eventTime":1646681984071,"message":"Compiling root-test","dataKind":"compile-task","data":{"target":{"uri":"file:/C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/#root/Test"}}})[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/taskFinish, {"taskId":{"id":"13","parents":[]},"eventTime":1646681984102,"message":"Compiled root-test","status":1,"dataKind":"compile-report","data":{"target":{"uri":"file:/C:/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Dokumenter/GitHub/Fagprojekt2022_Grp9/#root/Test"},"errors":0,"warnings":0,"time":31}})[0m
[0m[[0m[0mdebug[0m] [0m[0mForcing garbage collection...[0m
[0m[[0m[32msuccess[0m] [0m[0mTotal time: 4 s, completed 7. mar. 2022 20.39.44[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Done"})[0m
[0m[[0m[0mdebug[0m] [0m[0m> Exec(collectAnalyses, None, Some(CommandSource(network-1)))[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Processing"})[0m
[0m[[0m[0mdebug[0m] [0m[0mEvaluating tasks: Compile / collectAnalyses[0m
[0m[[0m[0mdebug[0m] [0m[0mRunning task... Cancel: Signal, check cycles: false, forcegc: true[0m
[0m[[0m[0mdebug[0m] [0m[0manalysis location (C:\Users\Gamerpcen\OneDrive - Danmarks Tekniske Universitet\Dokumenter\GitHub\Fagprojekt2022_Grp9\target\scala-2.13\zinc\inc_compile_2.13.zip,true)[0m
[0m[[0m[32msuccess[0m] [0m[0mTotal time: 0 s, completed 7. mar. 2022 20.39.44[0m
[0m[[0m[0mdebug[0m] [0m[0mjsonRpcNotify: JsonRpcNotificationMessage(2.0, build/logMessage, {"type":4,"message":"Done"})[0m
[0m[[0m[0mdebug[0m] [0m[0m> Exec(shell, None, None)[0m
[0m[[0m[0mdebug[0m] [0m[0mForcing garbage collection...[0m
[0m[[0m[0mdebug[0m] [0m[0mUnhandled notification received: textDocument/didOpen: JsonRpcNotificationMessage(2.0, textDocument/didOpen, {"textDocument":{"uri":"file:///c%3A/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Kurser%20og%20b%C3%B8ger/DE2%2002139/chisel-lab-master/vending/src/main/scala/Datapath.scala","languageId":"scala","version":1,"text":"import chisel3._\r\nimport chisel3.util._\r\nclass Datapath(maxCount: Int) extends Module {\r\n  val io = IO(new Bundle {\r\n    //External IO\r\n    val rst = Input(Bool())\r\n    val price = Input(UInt(5.W))\r\n    val buy = Input(Bool())\r\n    val coin2 = Input(Bool())\r\n    val coin5 = Input(Bool())\r\n    val seg = Output(UInt(7.W))\r\n    val an = Output(UInt(4.W))\r\n    //To/From FSM\r\n    val coin2RiseEdge = Output(Bool())\r\n    val coin5RiseEdge = Output(Bool())\r\n    val buyFallEdge = Output(Bool())\r\n    val buyRiseEdge = Output(Bool())\r\n    val enoughMoney = Output(Bool())\r\n    val add2 = Input(Bool())\r\n    val add5 = Input(Bool())\r\n    val subPrice = Input(Bool())\r\n    //snake\r\n    val sum42 = Output(Bool())\r\n  })\r\n\r\n\r\n  val sumReg = RegInit(0.U(8.W))\r\n  val priceReg = RegInit(0.U(8.W))\r\n  val addValue = Wire(UInt())\r\n\r\n  val dispDriv = Module(new DisplayDriver(maxCount))\r\n\r\n  //InputSyncDebounce\r\n  val tickReg = RegInit(0.U(17.W))\r\n  val tick = tickReg===maxCount.U\r\n  tickReg:=tickReg+1.U\r\n\r\n  when(tick) {\r\n    tickReg := 0.U\r\n  }\r\n  val sync_coin2=RegEnable(RegEnable(io.coin2,tick),tick)\r\n  val sync_coin5=RegEnable(RegEnable(io.coin5,tick),tick)\r\n  val sync_buy=RegEnable(RegEnable(io.buy,tick),tick)\r\n  io.coin2RiseEdge:= sync_coin2 & !RegNext(sync_coin2)\r\n  io.coin5RiseEdge:= sync_coin5 & !RegNext(sync_coin5)\r\n  io.buyRiseEdge:= sync_buy & !RegNext(sync_buy)\r\n  io.buyFallEdge:= !sync_buy & RegNext(sync_buy)\r\n\r\n\r\n  //Accounting (CPU)\r\n  io.enoughMoney := (priceReg <= sumReg)\r\n  priceReg := RegNext(io.price)\r\n  addValue:=0.U\r\n  when(io.add2) {\r\n    addValue:=2.U\r\n  }\r\n  when(io.add5) {\r\n    addValue:=5.U\r\n  }\r\n  sumReg := sumReg + addValue\r\n  when(io.subPrice) {\r\n    sumReg := sumReg - priceReg\r\n  } .elsewhen (io.rst){//resetting coin balance\r\n    sumReg := 0.U\r\n  }\r\n\r\n  //DisplayDriver io connect\r\n  dispDriv.io.tick:=tick\r\n  dispDriv.io.sum := sumReg\r\n  dispDriv.io.price := priceReg\r\n  io.an := ~dispDriv.io.an\r\n  io.seg := ~dispDriv.io.seg\r\n\r\n  //snake\r\n  io.sum42:=false.B\r\n  when(sumReg >= 42.U){\r\n    io.sum42:=true.B\r\n  }\r\n}\r\n\r\n\r\n"}})[0m
[0m[[0m[0mdebug[0m] [0m[0mUnhandled notification received: textDocument/didClose: JsonRpcNotificationMessage(2.0, textDocument/didClose, {"textDocument":{"uri":"file:///c%3A/Users/Gamerpcen/OneDrive%20-%20Danmarks%20Tekniske%20Universitet/Kurser%20og%20b%C3%B8ger/DE2%2002139/chisel-lab-master/vending/src/main/scala/Datapath.scala"}})[0m
